---
title: "Satena version 1.11"
description: "新機能の紹介"
tags: ["Android","Satena","はてなブックマーク"]
date: 2022-06-12T23:15:00+09:00
archives:
    - 2022
    - 2022-06
    - 2022-06-12
hide_overview: false
draft: false
---

## 既知の不具合，開発状況

[Issues · suihan74/Satena](https://github.com/suihan74/Satena/issues)

---

## アプリ更新履歴

[Satena/release_notes.txt at master · suihan74/Satena](https://github.com/suihan74/Satena/blob/master/app/src/main/res/raw/release_notes.txt)

[過去バージョンのリリース記事](/tags/satena/)

---

## 新機能

### [v1.11.0](#v1110)

- [エクストラボトムメニュー](#エクストラボトムメニュー)

- [非表示エントリ一覧](#非表示エントリ一覧)

- [既読エントリ非表示設定](#既読エントリ非表示設定)

- [人気タブのエントリ全件取得](#人気タブのエントリ全件取得)

- [設定項目の検索](#設定項目の検索)

- [鳴動させる通知種類の指定](#鳴動させる通知種類の指定)

- [favicon表示に関する内部処理の変更](#favicon表示に関する内部処理の変更)

---

## v1.11.0

{{<twitter 1523622584667242496>}}

### エクストラボトムメニュー

ボトムメニューの全項目を表示するためにエクストラボトムメニューを追加しました。

メニュー表示ボタン（右下の青い丸いやつ）か、ボトムメニューのアイコンが無い空いている部分を画面上方に引き上げると表示できます。  
閉じるときはリスト部分を引き下げるか「戻る」ボタンで閉じます。

使わないのにタップ時にいちいち引き上げ処理が挟まってウザったいというときには、設定画面からエクストラボトムメニューを無効化することもできます。

「設定できるボトムメニュー項目数が端末によって少ない」という事情から割と苦し紛れに作成した機能ですが、今後いい感じにできそうだったらここの表示項目や順序を変更できるようにできたらいいかなと思っています。

### 非表示エントリ一覧

現在表示中のカテゴリで非表示対象としてリストから除外されたエントリだけの一覧を表示するためのボトムメニュー項目を追加しました。

非表示エントリ一覧の各項目は通常のエントリ一覧の項目と同じタップ時挙動が設定されています。

### 既読エントリ非表示設定

一度閲覧したエントリに既読マークをつける代わりに非表示にする設定を追加しました。

### 人気タブのエントリ全件取得

「人気/新着」タブがある各カテゴリの人気タブに限り、読み込める全ての項目を一度にすべて取得する設定を追加しました。

この機能をONにすると人気タブのロード時間・通信量が増加します。

### 設定項目の検索

設定画面に検索機能を追加しました。

現時点ではアプリの挙動に関する設定項目だけが検索対象であり、非表示対象やユーザータグなどは検索対象に含まれません。

※この機能の追加にあたり、設定画面表示時にクラッシュする問題が一部環境で発生していましたがv1.11.1で修正しました。

### 鳴動させる通知種類の指定

端末の通知機能にメッセージを送るお知らせの種類を設定できるようにしました。

「スター通知は鳴動させたいが、[1stブクマしたエントリに関する通知](https://bookmark.hatenastaff.com/entry/2022/04/25/152925)は要らない」というような需要が満たせるかなと思います。

### favicon表示に関する内部処理の変更

（新機能というわけではありませんが）  
アプリ内ブラウザのお気に入りサイトや閲覧履歴に表示されるfaviconの取得方法を変更しました。

利用時に感じる差異は

- v1.10系までの閲覧履歴のfaviconが表示されなくなった（ページを再度表示すると表示されます。多分）

- 画質が良くなったものがある

……くらいのものかなと思います。

以前はgoogleのfaviconキャッシュサービスから画像を取得していましたが、  
今回の変更ではアプリ内ブラウザでページ読み込みと一緒に取得したビットマップを適当に圧縮[^1]してアプリフォルダにキャッシュしています。

また、お気に入りサイト登録用のダイアログからURL入力にあわせてfaviconを取得する処理を削除しました。

[^1]: AndroidQ以降ではWebP、それ以前のバージョンではPNGに圧縮されます。
